# Устройство памяти

## Память бывает нескольких типов:
### По способу хранения:
 - _КЭШ_ (кратковременная) память, хранит данные в оперативной памяти, периодически уничтожая редко используемые значения;
 - _Long-term_ (долговременная) память, хранит данные в оперативной памяти;
 - _Persistent_ (постоянная) память, хранит данные в оперативной памяти и на диске.

### По области видимости:
 - локальная, хранится только на одном воркере;
 - разделяемая, хранится на всех воркерах, контроллер хранит индекс;
 - локализованная, хранится только на одном воркере, с возможностью поделиться с другими;
 - трансактивная, хранится только на одном воркере, индекс хранят все воркеры и контроллер, требует взаимодействия воркеров друг с другом.

В приложении доступно три вида памяти:
 - контекст пользователя;
 - память приложения;
 - память потока.
 
Контекст пользователя - разделяемая память.

## Необходимость в предотвращении состояния гонки

Для разделяемой памяти - обязательно.
Для 